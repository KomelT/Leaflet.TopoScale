var A=a=>typeof a=='undefined';function(_,b){typeof define=='function'&&define.amd?define(['leaflet'],_):typeof exports=='object'&&(module.exports=_(require('leaflet')));!A(b)&&b.L&&(b.L.Control.TopoScale=_(L),L.control.toposcale=B=>new b.L.Control.TopoScale(B))}(function(L){var c=L.Control.extend({options:{position:'bottomleft',updateWhenIdle:!0},onAdd:function(C){var _b='leaflet-control-toposcale',_c=L.DomUtil.create('div',_b),d=this.options;this._mScale=L.DomUtil.create('div',`${_b}-line`,_c);C.on(d.updateWhenIdle?'moveend':'move',this._update,this);C.whenReady(this._update,this);return _c},onRemove:function(_a){_a.off(this.options.updateWhenIdle?'moveend':'move',this._update,this)},_pxTOmm:(function(){var D=document.createElement('div'),_B=$('#heightRef').height();D.style='height:1mm;display:none';D.id='heightRef';document.body.appendChild(D);D=document.getElementById('heightRef');D.parentNode.removeChild(D);return function e(_A){return _A/_B}})(),_update:function(){var E=this._map,aA=E.getSize().y/2,_C=E.distance(E.containerPointToLatLng([0,aA]),E.containerPointToLatLng([100,aA])),_d=this._pxTOmm(100)/1000;this._mScale.innerHTML='1:'+`${Math.round(_C/_d)}`.replace(/\B(?=(\d{3})+(?!\d))/g,'.')}});return c},window);
